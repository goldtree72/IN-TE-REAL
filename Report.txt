========================================================================
             [IN-TE-REAL 프로젝트 개발 및 배포 최종 보고서]
========================================================================
작성일: 2026년 2월 25일
프로젝트: IN-TE-REAL (AI 기반 인테리어 오케스트레이션 대시보드)
기술 스택: Next.js (15.5+), React, TypeScript, Firebase, Tailwind CSS, Vercel
========================================================================

1. 개요
본 보고서는 IN-TE-REAL 프로젝트의 초기 기획부터 최종 Vercel 배포까지 
발생했던 핵심 개발 사항, 시행착오(Troubleshooting), 그리고 
향후 신규 프로젝트를 더 빠르고 안전하게 배포하기 위한 가이드라인을 정리합니다.

------------------------------------------------------------------------
2. 주요 개발 파이프라인 및 기능 구현 요약
------------------------------------------------------------------------
 [1] 단계별(FLOW ~ LENS) AI 자동화 확장
 - 기존 수동 업로드 슬롯에 [AI 자동 생성] 기능 일괄 적용.
 - Gemini API (또는 Fallback) 기반으로 프롬프트를 전송해 이미지를 받아오는 API(/api/generate-image) 연결.

 [2] 갤러리 뷰어 및 다운로드 기능 고도화
 - 생성된 결과물을 갤러리에 자동 안착(배치)시키는 state 로직 구현 (setFuseImgs 등 배열 상태 관리).
 - `ResultUploadSlot` 컴포넌트 내에 전체화면(Fullscreen) 모달 및 원본 다운로드 속성 삽입 구현.

 [3] 오프라인 -> 클라우드 영구 저장 (Firebase 연동)
 - 단순 `localStorage` 에만 저장되던 유저 세팅(이름, 직책, 프로젝트 진행도)을 Firebase Firestore로 마이그레이션.
 - 익명 로그인(Anonymous Auth) 방식을 적용하여 회원가입 허들 없이도 브라우저 재접속 시 데이터가 유지되도록 아키텍처 개선.

 [4] 다이나믹 UI 및 퍼포먼스(CSS) 개선
 - Progress Bar Flex width(가로 꽉참) 렌더링 개선 및 CSS 애니메이션 적용.
 - 왼쪽 상단 로고 투명화(Alpha) 추출 후, 정밀한 기준점(transform-origin)을 바탕으로 제자리 무한 회전하는 CSS Keyframe 구현.

------------------------------------------------------------------------
3. 배포(Vercel) 단계에서의 시행착오 (Lessons Learned)
------------------------------------------------------------------------
🚨 이슈 1: 첫 Vercel 배포 빌드 시 TypeScript 렌더링 에러
 - 원인: `src/app/(dashboard)/report/page.tsx` 내 배열의 `map` 함수에서 변수 `s`의 타입이 명시적으로 지정되지 않아(implicit 'any') 엄격한 검사에 걸려 Vercel에서 Build 과정(npm run build)이 중지됨.
 - 해결 방안: `s: any` 혹은 `s: { count: number }` 와 같이 타입을 명확히 강제 선언하여 TypeScript 에러 방지.
 - 교훈: 차기 프로젝트 진행 시, 로컬 환경에서 Next.js 서버(npm run dev)만 켜두지 말고 사전에 빌드 명령어(`npm run build`)를 한번 실행하여 숨어있는 타입 에러들을 사전에 잡아내는 과정 필수 수행 요망.

🚨 이슈 2: SearchParams (Next.js 15) 캐싱/서버 렌더링 제약으로 인한 빌드 에러
 - 원인: `projects/page.tsx` 페이지에서 클라이언트 URL 쿼리스트링 처리를 위해 `useSearchParams`를 직통으로 호출하였음. Next.js의 정적 내보내기 규칙과 충돌하여 빌드 불가 현상 발생.
 - 해결 방안: 컴포넌트를 `Suspense` 바운더리로 감싸, 비동기 처리가 필요하다는 것을 명시함. (`<Suspense fallback={...}><ProjectsContent/></Suspense>`)
 - 교훈: 향후 라우터나 `useSearchParams`, `useRouter`를 최상단 컴포넌트에서 쓸 때는 반드시 `<Suspense>`로 감싸는 아키텍처를 스캐폴딩 단계부터 템플릿화 할 것.

🚨 이슈 3: 로고 이미지 애니메이션 확대(Stretch) 현상
 - 원인: 불필요한 공백을 없애기 위해 png 파일 크기 자체를 잘라내어(Crop) 저장. 그러나 CSS의 `object-fit: cover` 속성이 부모 정사각형(직사각형) 컨테이너 비율에 맞춰 억지로 늘이면서 심볼 이미지가 거대해짐.
 - 해결 방안: 이미지 비율을 CSS에 맞추기보다, "원본 사이즈(1593*555)"를 그대로 유지한 채 파이썬으로 흰 배경만 투명(Alpha) 치환하여 저장 후, 기존과 완전히 동일한 공간을 덮게(Overlay) 함.
 - 교훈: UI 이미지 교체 시, 부모 컴포넌트에 사이즈 속성이 강제로 물려있는 경우 이미지 물리적 Crop 보다는 투명화/알파 채널 관리를 통해 비율 찌그러짐을 방지하는 것이 효율적.

🚨 이슈 4: Git Push 단계 대용량 파일 용량 초과 에러
 - 원인: 로컬에 `git init`을 하고 `add .`을 진행하는 도중 `.gitignore` 파일 생성이 후순위로 밀리면서(또는 Background Add 도중에), `node_modules` 등의 수백 MB 짜리 쓰레기 폴더들까지 모조리 커밋되어 Github 전송 과정에서 거부당함.
 - 해결 방안: Git 캐시 완전 초기화(`git rm -r --cached`) 후 `.gitignore` 를 정확히 작성하고 다시 커밋.
 - 교훈: 프로젝트 셋팅의 최우선 순위는 무조건 `.gitignore` 작성 및 패키지, 환경변수 보안. 명령어 진행 순서를 숙지할 것.

------------------------------------------------------------------------
4. Next.js 프로젝트 차기작 진행 5단계 매뉴얼 (Best Practice)
------------------------------------------------------------------------
추후 다른 프로젝트를 진행하실 땐 아래의 체크리스트대로 움직이시면 
이번과 같은 시행착오를 제로에 가깝게 줄일 수 있습니다!

[Step 1. 초기 셋팅]
 ✔ 최상위 폴더에 `.gitignore` (node_modules, .next, .env* 포함) 무조건 최우선 생성.
 ✔ Git 로컬 저장소 즉시 초기화 (`git init`).

[Step 2. 로컬 개발 및 중간 확인]
 ✔ TypeScript와 React 문법 준수하며 개발 집중.
 ✔ 외부 라이브러리(Firebase 등)의 Key 값들은 무조건 `.env.local` 에 빼두어 관리.

[Step 3. 배포 전 시뮬레이션 (매우 중요)]
 ✔ 터미널에서 `npm run build` 를 실행하여 TypeScript 에러나 Suspense 에러가 뜨는지 사전 확인!
 ✔ 에러가 뜨면 로컬에서 모두 디버깅 후 완료.

[Step 4. 저장 및 GitHub 동기화]
 ✔ 모든 코드가 깨끗해졌다면 `git add .` -> `git commit` 하여 패키징.
 ✔ Vercel을 위한 GitHub 원격지 푸시 (`git push origin main`).

[Step 5. Vercel 배포 완료]
 ✔ Vercel 웹 접속 후 Import. 
 ✔ 잊지말고 Environment Variables(.env 환경변수) 복사해서 붙여넣기 후 Deploy 클릭.

========================================================================
본 프로젝트가 무사히 성립되어 외부망(Vercel)에 1.0버전으로 올라갔음을 축하드립니다.
========================================================================
